<!DOCTYPE html>
<html lang="en-US">

  
<!-- Mirrored from qb64.com/wiki/_MAPTRIANGLE.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 07 Nov 2024 13:50:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.html">
    <link rel="stylesheet" type="text/css" media="screen" href="../assets/css/style2443.css?v=eb9b8c9cad488bd1304035e1bfc5d2e89b0f78df">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>QB64.com | QB64 is a modern extended BASIC programming language that retains QBasic/QuickBASIC 4.5 compatibility and compiles native binaries for Windows, Linux, and macOS.</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="QB64.com" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="QB64 is a modern extended BASIC programming language that retains QBasic/QuickBASIC 4.5 compatibility and compiles native binaries for Windows, Linux, and macOS." />
<meta property="og:description" content="QB64 is a modern extended BASIC programming language that retains QBasic/QuickBASIC 4.5 compatibility and compiles native binaries for Windows, Linux, and macOS." />
<link rel="canonical" href="_MAPTRIANGLE-2.html" />
<meta property="og:url" content="_MAPTRIANGLE-2.html" />
<meta property="og:site_name" content="QB64.com" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="QB64.com" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"QB64 is a modern extended BASIC programming language that retains QBasic/QuickBASIC 4.5 compatibility and compiles native binaries for Windows, Linux, and macOS.","headline":"QB64.com","url":"https://qb64.com/wiki/_MAPTRIANGLE.html"}</script>
<!-- End Jekyll SEO tag -->

    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          
            <!--<a id="forkme_banner" href="https://github.com/DualBrain/QB64">View on GitHub</a>-->
          

          <h1 id="project_title">QB64.com</h1>
          <h2 id="project_tagline">QB64 is a modern extended BASIC programming language that retains QBasic/QuickBASIC 4.5 compatibility and compiles native binaries for Windows, Linux, and macOS.</h2>

          
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>The <a href="_MAPTRIANGLE.html">_MAPTRIANGLE</a> statement maps a triangular portion of an image onto a destination image or screen page.</p>

<h2 id="syntax">Syntax</h2>

<h3 id="2d-drawing">2D drawing</h3>

<blockquote>
  <table>
    <tbody>
      <tr>
        <td><a href="_MAPTRIANGLE.html">_MAPTRIANGLE</a> [{<strong>_SEAMLESS}</strong>] <strong>(</strong> sx1 <strong>,</strong> sy1 <strong>)-(</strong> sx2 <strong>,</strong> sy2 <strong>)-(</strong> sx3 <strong>,</strong> sy3 <strong>),</strong> source&amp; <a href="TO.html">TO</a> <strong>(</strong> dx1 <strong>,</strong> dy1 <strong>)-(</strong> dx2 <strong>,</strong> dy2 <strong>)-(</strong> dx3 <strong>,</strong> dy3 <strong>)</strong>[, destination&amp;][{<strong>_SMOOTH</strong></td>
        <td><strong>_SMOOTHSHRUNK</strong></td>
        <td><strong>_SMOOTHSTRETCHED</strong>}]]</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h3 id="3d-drawing-hardware-images-only">3D drawing (hardware images only)</h3>

<blockquote>
  <table>
    <tbody>
      <tr>
        <td><a href="_MAPTRIANGLE.html">_MAPTRIANGLE</a> [{<strong>_CLOCKWISE</strong></td>
        <td><strong>_ANTICLOCKWISE</strong>}] [{<strong>_SEAMLESS</strong>}] <strong>(</strong> sx1 <strong>,</strong> sy1 <strong>)-(</strong> sx2 <strong>,</strong> sy2 <strong>)-(</strong> sx3 <strong>,</strong> sy3 <strong>),</strong> source&amp; <a href="TO.html">TO</a> <strong>(</strong> dx1 <strong>,</strong> dy1 <strong>,</strong> dz1 <strong>)-(</strong> dx2 <strong>,</strong> dy2 <strong>,</strong> dz2 <strong>)-(</strong> dx3 <strong>,</strong> dy3 <strong>,</strong> dz3 <strong>)</strong> [, destination&amp;][{<strong>_SMOOTH</strong></td>
        <td><strong>_SMOOTHSHRUNK</strong></td>
        <td><strong>_SMOOTHSTRETCHED</strong>}]]</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h2 id="parameters">Parameter(s)</h2>

<ul>
  <li>The <strong>_SEAMLESS</strong> option makes the triangle skip the right-most and bottom-most pixels of the triangle. When you make larger objects using several triangles, there can be a “seam” where they overlap when using alpha transparency and the seam would be twice as bright. <strong>_SEAMLESS</strong> is ignored when rendering 3D content and is not yet supported when drawing 2D hardware images.**</li>
  <li>For 3D drawing use the <strong>_CLOCKWISE</strong> and <strong>_ANTICLOCKWISE</strong> arguments to only draw triangles in the correct direction. See <em>Example 4</em>.</li>
  <li>Coordinates are <a href="SINGLE.html">SINGLE</a> values where whole numbers represent the exact center of a pixel of the source texture.</li>
  <li>source&amp; and optional destination&amp; are <a href="LONG.html">LONG</a> image or screen page handles.</li>
  <li>Supports an optional final argument <strong>_SMOOTH</strong> which applies linear filtering. See <em>Example 3</em>.</li>
  <li>Use <strong>_SMOOTHSTRETCHED</strong> or <strong>_SMOOTHSHRUNK</strong> for when a pixelated/smooth effect is desirable but not both.</li>
</ul>

<h2 id="description">Description</h2>

<ul>
  <li>This statement is used similar to <a href="_PUTIMAGE.html">_PUTIMAGE</a> to place triangular sections of an image, but is more flexible.</li>
  <li>The <a href="STEP.html">STEP</a> keyword can be used to for coordinates relative to the last graphic coordinates used.</li>
  <li>For 2D drawing, the destination coordinates are pixel coordinates either on-screen or on the destination image.</li>
  <li>For 3D drawing, the destination coordinates represent left (-x) to right (+x), bottom (-y) to top (+y) &amp; furthest (-z) to nearest (z=-1). The center of the screen is therefore (0,0,-1). Note that a z value of 0 will result in off-screen content. The furthest visible z value is -10,000.</li>
  <li>When drawing <strong>software images</strong> coordinate positions are <strong>limited from -16383 to 16383</strong></li>
  <li>The source coordinates can be positioned outside the boundary of the <em>source</em> image to achieve a tiled effect.</li>
  <li>If the destination&amp; image handle is the current <a href="SCREEN.html">SCREEN</a> page, <a href="_DEST.html">_DEST</a> or hardware layer, then it can be omitted.</li>
  <li><strong>Hardware images</strong> (created using mode 33 via <a href="_LOADIMAGE.html">_LOADIMAGE</a> or <a href="_COPYIMAGE.html">_COPYIMAGE</a>) can be used as the source or destination.</li>
</ul>

<h2 id="examples">Example(s)</h2>

<p>Rotating an image using a rotation and zoom SUB with _MAPTRIANGLE.</p>

<div class="language-vb highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">SCREEN</span> <span class="n">_NEWIMAGE</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>

<span class="n">Image</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">_LOADIMAGE</span><span class="p">(</span><span class="s">"qb64_trans.png"</span><span class="p">)</span>   <span class="c1">'replace with your own image</span>

<span class="n">DO</span>
  <span class="n">CLS</span>
  <span class="n">RotoZoom</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="n">Image</span><span class="o">&amp;</span><span class="p">,</span> <span class="mf">1.5</span> <span class="o">+</span> <span class="n">SIN</span><span class="p">(</span><span class="n">zoom</span><span class="p">),</span> <span class="n">angle</span>
  <span class="n">LOCATE</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="n">PRINT</span> <span class="s">"Angle:"</span><span class="err">;</span> <span class="n">CINT</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
  <span class="n">PRINT</span> <span class="s">"Zoom"</span><span class="err">;</span> <span class="n">USING</span> <span class="s">"##.###"</span><span class="err">;</span> <span class="mf">1.5</span> <span class="o">+</span> <span class="n">SIN</span><span class="p">(</span><span class="n">zoom</span><span class="p">)</span>
  <span class="n">_DISPLAY</span>
  <span class="n">angle</span> <span class="o">=</span> <span class="n">angle</span> <span class="o">+</span> <span class="p">.</span><span class="err">5:</span> <span class="n">IF</span> <span class="n">angle</span> <span class="o">&gt;=</span> <span class="mi">360</span> <span class="n">THEN</span> <span class="n">angle</span> <span class="o">=</span> <span class="n">angle</span> <span class="o">-</span> <span class="mi">360</span>
  <span class="n">zoom</span> <span class="o">=</span> <span class="n">zoom</span> <span class="o">+</span> <span class="p">.</span><span class="err">01</span>
<span class="n">LOOP</span> <span class="n">UNTIL</span> <span class="n">INKEY</span><span class="err">$</span> <span class="o">&lt;&gt;</span> <span class="s">""</span>
<span class="n">END</span>

<span class="n">SUB</span> <span class="n">RotoZoom</span> <span class="p">(</span><span class="n">X</span> <span class="n">AS</span> <span class="n">LONG</span><span class="p">,</span> <span class="n">Y</span> <span class="n">AS</span> <span class="n">LONG</span><span class="p">,</span> <span class="n">Image</span> <span class="n">AS</span> <span class="n">LONG</span><span class="p">,</span> <span class="n">Scale</span> <span class="n">AS</span> <span class="n">SINGLE</span><span class="p">,</span> <span class="n">Rotation</span> <span class="n">AS</span> <span class="n">SINGLE</span><span class="p">)</span>
<span class="n">DIM</span> <span class="n">px</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="n">AS</span> <span class="n">SINGLE</span><span class="p">:</span> <span class="n">DIM</span> <span class="n">py</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="n">AS</span> <span class="n">SINGLE</span>
<span class="n">W</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">_WIDTH</span><span class="p">(</span><span class="n">Image</span><span class="o">&amp;</span><span class="p">):</span> <span class="n">H</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">_HEIGHT</span><span class="p">(</span><span class="n">Image</span><span class="o">&amp;</span><span class="p">)</span>
<span class="n">px</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="n">W</span><span class="o">&amp;</span> <span class="o">/</span> <span class="mi">2</span><span class="p">:</span> <span class="n">py</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="n">H</span><span class="o">&amp;</span> <span class="o">/</span> <span class="mi">2</span><span class="p">:</span> <span class="n">px</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="n">W</span><span class="o">&amp;</span> <span class="o">/</span> <span class="mi">2</span><span class="p">:</span><span class="n">py</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">H</span><span class="o">&amp;</span> <span class="o">/</span> <span class="mi">2</span> 
<span class="n">px</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">W</span><span class="o">&amp;</span> <span class="o">/</span> <span class="mi">2</span><span class="p">:</span> <span class="n">py</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">H</span><span class="o">&amp;</span> <span class="o">/</span> <span class="mi">2</span><span class="p">:</span> <span class="n">px</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="n">W</span><span class="o">&amp;</span> <span class="o">/</span> <span class="mi">2</span><span class="p">:</span> <span class="n">py</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="n">H</span><span class="o">&amp;</span> <span class="o">/</span> <span class="mi">2</span>
<span class="n">sinr!</span> <span class="o">=</span> <span class="n">SIN</span><span class="p">(</span><span class="o">-</span><span class="n">Rotation</span> <span class="o">/</span> <span class="mf">57.2957795131</span><span class="p">):</span> <span class="n">cosr!</span> <span class="o">=</span> <span class="n">COS</span><span class="p">(</span><span class="o">-</span><span class="n">Rotation</span> <span class="o">/</span> <span class="mf">57.2957795131</span><span class="p">)</span>
<span class="n">FOR</span> <span class="n">i&amp;</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="mi">3</span>
  <span class="n">x2&amp;</span> <span class="o">=</span> <span class="p">(</span><span class="n">px</span><span class="p">(</span><span class="n">i&amp;</span><span class="p">)</span> <span class="o">*</span> <span class="n">cosr!</span> <span class="o">+</span> <span class="n">sinr!</span> <span class="o">*</span> <span class="n">py</span><span class="p">(</span><span class="n">i&amp;</span><span class="p">))</span> <span class="o">*</span> <span class="n">Scale</span> <span class="o">+</span> <span class="n">X</span><span class="p">:</span> <span class="n">y2&amp;</span> <span class="o">=</span> <span class="p">(</span><span class="n">py</span><span class="p">(</span><span class="n">i&amp;</span><span class="p">)</span> <span class="o">*</span> <span class="n">cosr!</span> <span class="o">-</span> <span class="n">px</span><span class="p">(</span><span class="n">i&amp;</span><span class="p">)</span> <span class="o">*</span> <span class="n">sinr!</span><span class="p">)</span> <span class="o">*</span> <span class="n">Scale</span> <span class="o">+</span> <span class="n">Y</span>
  <span class="n">px</span><span class="p">(</span><span class="n">i&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="n">x2&amp;</span><span class="p">:</span> <span class="n">py</span><span class="p">(</span><span class="n">i&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="n">y2&amp;</span>
<span class="n">NEXT</span>
<span class="n">_MAPTRIANGLE</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">H</span><span class="o">&amp;</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">W</span><span class="o">&amp;</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">H</span><span class="o">&amp;</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="n">Image</span><span class="o">&amp;</span> <span class="n">TO</span><span class="p">(</span><span class="n">px</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">py</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="o">-</span><span class="p">(</span><span class="n">px</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">py</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">-</span><span class="p">(</span><span class="n">px</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">py</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="n">_MAPTRIANGLE</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">W</span><span class="o">&amp;</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">W</span><span class="o">&amp;</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">H</span><span class="o">&amp;</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="n">Image</span><span class="o">&amp;</span> <span class="n">TO</span><span class="p">(</span><span class="n">px</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">py</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="o">-</span><span class="p">(</span><span class="n">px</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">py</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">-</span><span class="p">(</span><span class="n">px</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">py</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="n">END</span> <span class="n">SUB</span> 

</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
        **Triangle sections of image in code above     __ **  
                                                    **|\2|**
                                                 ** 1→|_\|**

</code></pre></div></div>

<p>A 3D Spinning Cube demo using a software image and <a href="_MAPTRIANGLE.html">_MAPTRIANGLE</a>:</p>

<div class="language-vb highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">' Copyright (C) 2011 by Andrew L. Ayers</span>

<span class="n">DIM</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="n">AS</span> <span class="n">LONG</span>

<span class="c1">' OBJECTS DEFINED AS FOLLOWS:</span>
<span class="c1">'   (#OBJECTS,#PLANES PER OBJECT,#POINTS PER PLANE, XYZ TRIPLE)</span>

<span class="n">DIM</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="n">AS</span> <span class="n">LONG</span> <span class="c1">' SCREEN PLANE COORDINATES</span>

<span class="c1">' DPLANE2D DEFINED AS FOLLOWS:</span>
<span class="c1">'   (#POINTS PER PLANE, XY DOUBLE)</span>

<span class="n">DIM</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="n">AS</span> <span class="n">LONG</span> <span class="c1">' 3D PLANE COORDINATES</span>

<span class="c1">' DPLANE3D DEFINED AS FOLLOWS:</span>
<span class="c1">'   (#POINTS PER PLANE, XYZ TRIPLE)</span>

<span class="n">DIM</span> <span class="n">PLANECOL</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="n">AS</span> <span class="n">INTEGER</span>
<span class="n">DIM</span> <span class="n">STAB</span><span class="p">(</span><span class="mi">359</span><span class="p">),</span> <span class="n">CTAB</span><span class="p">(</span><span class="mi">359</span><span class="p">)</span> <span class="c1">' SINE/COSINE TABLES</span>
<span class="n">D</span><span class="o">&amp;</span> <span class="o">=</span> <span class="mi">400</span><span class="p">:</span> <span class="n">MX</span><span class="o">&amp;</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">MY</span><span class="o">&amp;</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">MZ</span><span class="o">&amp;</span> <span class="o">=</span> <span class="o">-</span><span class="mi">100</span>
<span class="c1">'</span>
<span class="c1">' COMPUTE SINE/COSINE TABLES</span>
<span class="n">FOR</span> <span class="n">t&amp;</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="mi">359</span>
  <span class="n">STAB</span><span class="p">(</span><span class="n">t&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="n">SIN</span><span class="p">((</span><span class="mf">6.282</span> <span class="o">/</span> <span class="mi">360</span><span class="p">)</span> <span class="o">*</span> <span class="n">t&amp;</span><span class="p">)</span>
  <span class="n">CTAB</span><span class="p">(</span><span class="n">t&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="n">COS</span><span class="p">((</span><span class="mf">6.282</span> <span class="o">/</span> <span class="mi">360</span><span class="p">)</span> <span class="o">*</span> <span class="n">t&amp;</span><span class="p">)</span>
<span class="n">NEXT</span>
<span class="c1">'</span>
<span class="c1">' BUILD CUBE IN OBJECT ARRAY</span>
<span class="c1">' PLANE 0</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="c1">' PLANE 1</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1">' PLANE 2</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="c1">' PLANE 3</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1">' PLANE 4</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1">' PLANE 5</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1">' SET UP PLANE COLORS ON CUBE</span>
<span class="c1">'</span>
<span class="n">PLANECOL</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">PLANECOL</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">PLANECOL</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">PLANECOL</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">PLANECOL</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">PLANECOL</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">=</span> <span class="mi">8</span>
<span class="c1">'</span>
<span class="n">_TITLE</span> <span class="s">"QB64 _MAPTRIANGLE CUBE DEMO"</span>
<span class="n">SCREEN</span> <span class="n">_NEWIMAGE</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>
<span class="n">TextureImage</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">_LOADIMAGE</span><span class="p">(</span><span class="s">"qb64_trans.png"</span><span class="p">)</span> <span class="o">**</span><span class="c1">'&lt;&lt;&lt;&lt; **replace with your own image</span>
<span class="c1">'_PUTIMAGE , Image&amp;</span>

<span class="n">DO</span>
  <span class="c1">' LIMIT TO 25 FPS</span>
  <span class="n">_LIMIT</span> <span class="mi">25</span>
  <span class="c1">' ERASE LAST IMAGE</span>
  <span class="n">CLS</span>

  <span class="c1">' CALCULATE POSITION OF NEW IMAGE</span>
  <span class="n">FOR</span> <span class="n">OB</span><span class="o">&amp;</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="mi">0</span> <span class="c1">' UP TO 9 OBJECTS</span>
    <span class="n">SP</span> <span class="o">=</span> <span class="n">STAB</span><span class="p">(</span><span class="n">PIT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)):</span> <span class="n">CP</span> <span class="o">=</span> <span class="n">CTAB</span><span class="p">(</span><span class="n">PIT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">))</span>
    <span class="n">SY</span> <span class="o">=</span> <span class="n">STAB</span><span class="p">(</span><span class="n">YAW</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)):</span> <span class="n">CY</span> <span class="o">=</span> <span class="n">CTAB</span><span class="p">(</span><span class="n">YAW</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">))</span>
    <span class="n">SR</span> <span class="o">=</span> <span class="n">STAB</span><span class="p">(</span><span class="n">ROL</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)):</span> <span class="n">CR</span> <span class="o">=</span> <span class="n">CTAB</span><span class="p">(</span><span class="n">ROL</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">))</span>
    <span class="n">FOR</span> <span class="n">PL</span><span class="o">&amp;</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="mi">5</span> <span class="c1">' CONSISTING OF UP TO 9 PLANES</span>
      <span class="c1">'</span>
      <span class="n">FOR</span> <span class="n">PN</span><span class="o">&amp;</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="mi">3</span> <span class="c1">' EACH PLANE WITH UP TO 4 POINTS (#5 TO PAINT)</span>
        <span class="c1">'</span>
        <span class="c1">' TRANSLATE, THEN ROTATE</span>
        <span class="n">TX</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">OBJECT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">PL</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">TY</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">OBJECT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">PL</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">TZ</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">OBJECT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">PL</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">RX</span><span class="o">&amp;</span> <span class="o">=</span> <span class="p">(</span><span class="n">TZ</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CP</span> <span class="o">-</span> <span class="n">TY</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">SP</span><span class="p">)</span> <span class="o">*</span> <span class="n">SY</span> <span class="o">-</span> <span class="p">((</span><span class="n">TZ</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">SP</span> <span class="o">+</span> <span class="n">TY</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CP</span><span class="p">)</span> <span class="o">*</span> <span class="n">SR</span> <span class="o">+</span> <span class="n">TX</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CR</span><span class="p">)</span> <span class="o">*</span> <span class="n">CY</span>
        <span class="n">RY</span><span class="o">&amp;</span> <span class="o">=</span> <span class="p">(</span><span class="n">TZ</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">SP</span> <span class="o">+</span> <span class="n">TY</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CP</span><span class="p">)</span> <span class="o">*</span> <span class="n">CR</span> <span class="o">-</span> <span class="n">TX</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">SR</span>
        <span class="n">RZ</span><span class="o">&amp;</span> <span class="o">=</span> <span class="p">(</span><span class="n">TZ</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CP</span> <span class="o">-</span> <span class="n">TY</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">SP</span><span class="p">)</span> <span class="o">*</span> <span class="n">CY</span> <span class="o">+</span> <span class="p">((</span><span class="n">TZ</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">SP</span> <span class="o">+</span> <span class="n">TY</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CP</span><span class="p">)</span> <span class="o">*</span> <span class="n">SR</span> <span class="o">+</span> <span class="n">TX</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CR</span><span class="p">)</span> <span class="o">*</span> <span class="n">SY</span>
        <span class="c1">'</span>
        <span class="c1">' ROTATE, THEN TRANSLATE</span>
        <span class="n">RX</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">RX</span><span class="o">&amp;</span> <span class="o">+</span> <span class="n">MX</span><span class="o">&amp;</span>
        <span class="n">RY</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">RY</span><span class="o">&amp;</span> <span class="o">+</span> <span class="n">MY</span><span class="o">&amp;</span>
        <span class="n">RZ</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">RZ</span><span class="o">&amp;</span> <span class="o">+</span> <span class="n">MZ</span><span class="o">&amp;</span>
        <span class="c1">'</span>
        <span class="n">DPLANE3D</span><span class="p">(</span><span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="n">RX</span><span class="o">&amp;</span><span class="p">:</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">RY</span><span class="o">&amp;</span><span class="p">:</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">RZ</span><span class="o">&amp;</span>
        <span class="n">DPLANE2D</span><span class="p">(</span><span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">399</span> <span class="o">+</span> <span class="p">(</span><span class="n">D</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">RX</span><span class="o">&amp;</span> <span class="o">/</span> <span class="n">RZ</span><span class="o">&amp;</span><span class="p">)</span>
        <span class="n">DPLANE2D</span><span class="p">(</span><span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">299</span> <span class="o">+</span> <span class="p">(</span><span class="n">D</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">RY</span><span class="o">&amp;</span> <span class="o">/</span> <span class="n">RZ</span><span class="o">&amp;</span><span class="p">)</span>
      <span class="n">NEXT</span>
      <span class="c1">'</span>
      <span class="c1">' CHECK TO SEE IF PLANE IS VISIBLE</span>
      <span class="n">x1&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">y1&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="n">Z1</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
      <span class="n">x2&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">y2&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="n">Z2</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
      <span class="n">x3&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">y3&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="n">Z3</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
      <span class="n">T1</span><span class="o">&amp;</span> <span class="o">=</span> <span class="o">-</span><span class="n">x1&amp;</span> <span class="o">*</span> <span class="p">(</span><span class="n">y2&amp;</span> <span class="o">*</span> <span class="n">Z3</span><span class="o">&amp;</span> <span class="o">-</span> <span class="n">y3&amp;</span> <span class="o">*</span> <span class="n">Z2</span><span class="o">&amp;</span><span class="p">)</span>
      <span class="n">T2</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">x2&amp;</span> <span class="o">*</span> <span class="p">(</span><span class="n">y3&amp;</span> <span class="o">*</span> <span class="n">Z1</span><span class="o">&amp;</span> <span class="o">-</span> <span class="n">y1&amp;</span> <span class="o">*</span> <span class="n">Z3</span><span class="o">&amp;</span><span class="p">)</span>
      <span class="n">T3</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">x3&amp;</span> <span class="o">*</span> <span class="p">(</span><span class="n">y1&amp;</span> <span class="o">*</span> <span class="n">Z2</span><span class="o">&amp;</span> <span class="o">-</span> <span class="n">y2&amp;</span> <span class="o">*</span> <span class="n">Z1</span><span class="o">&amp;</span><span class="p">)</span>
      <span class="c1">'</span>
      <span class="n">VISIBLE</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">T1</span><span class="o">&amp;</span> <span class="o">-</span> <span class="n">T2</span><span class="o">&amp;</span> <span class="o">-</span> <span class="n">T3</span><span class="o">&amp;</span>
      <span class="n">IF</span> <span class="n">VISIBLE</span><span class="o">&amp;</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
        <span class="c1">' DRAW PLANE</span>
        <span class="n">xx1%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">yy1%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">xx2%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">yy2%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">xx3%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">yy3%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">col%</span> <span class="o">=</span> <span class="n">PLANECOL</span><span class="p">(</span><span class="n">PL</span><span class="o">&amp;</span><span class="p">)</span>

        <span class="n">_MAPTRIANGLE</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">TextureImage</span><span class="o">&amp;</span> <span class="n">TO</span><span class="p">(</span><span class="n">xx3%</span><span class="p">,</span> <span class="n">yy3%</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">xx2%</span><span class="p">,</span> <span class="n">yy2%</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">xx1%</span><span class="p">,</span> <span class="n">yy1%</span><span class="p">)</span>
        <span class="c1">' CALL DrawTriangle(xx1%, yy1%, xx2%, yy2%, xx3%, yy3%, col%)</span>
        <span class="n">xx1%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">yy1%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">xx3%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">yy3%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">xx4%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">yy4%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">_MAPTRIANGLE</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">TextureImage</span><span class="o">&amp;</span> <span class="n">TO</span><span class="p">(</span><span class="n">xx3%</span><span class="p">,</span> <span class="n">yy3%</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">xx1%</span><span class="p">,</span> <span class="n">yy1%</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">xx4%</span><span class="p">,</span> <span class="n">yy4%</span><span class="p">)</span>
        <span class="c1">'CALL DrawTriangle(xx1%, yy1%, xx3%, yy3%, xx4%, yy4%, col%)</span>
      <span class="n">END</span> <span class="n">IF</span>
    <span class="n">NEXT</span>
    <span class="c1">'</span>
    <span class="c1">' ROTATE OBJECT</span>
    <span class="n">PIT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="n">PIT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">5</span>
    <span class="n">IF</span> <span class="n">PIT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">359</span> <span class="n">THEN</span> <span class="n">PIT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">YAW</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="n">YAW</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">7</span>
    <span class="n">IF</span> <span class="n">YAW</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">359</span> <span class="n">THEN</span> <span class="n">YAW</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">ROL</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="n">ROL</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">9</span>
    <span class="n">IF</span> <span class="n">ROL</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">359</span> <span class="n">THEN</span> <span class="n">ROL</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="n">NEXT</span>
  <span class="c1">'</span>
  <span class="c1">' Calculate Frames per Second</span>
  <span class="n">frames%</span> <span class="o">=</span> <span class="n">frames%</span> <span class="o">+</span> <span class="mi">1</span>
  <span class="n">IF</span> <span class="n">oldtime$</span> <span class="o">&lt;&gt;</span> <span class="n">TIME</span><span class="err">$</span> <span class="n">THEN</span>
    <span class="n">fps%</span> <span class="o">=</span> <span class="n">frames%</span>
    <span class="n">frames%</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">oldtime$</span> <span class="o">=</span> <span class="n">TIME</span><span class="err">$</span>
  <span class="n">END</span> <span class="n">IF</span>
  <span class="n">COLOR</span> <span class="n">_RGB</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">):</span> <span class="n">LOCATE</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="n">PRINT</span> <span class="s">"FPS :"</span><span class="err">;</span> <span class="n">fps%</span>
  <span class="c1">'</span>
  <span class="c1">' Show Image on Screen</span>
  <span class="n">_DISPLAY</span>
<span class="n">LOOP</span> <span class="n">UNTIL</span> <span class="n">INKEY</span><span class="err">$</span> <span class="o">&lt;&gt;</span> <span class="s">""</span>
<span class="n">WIDTH</span> <span class="mi">80</span><span class="p">:</span> <span class="n">SCREEN</span> <span class="mi">0</span><span class="p">:</span> <span class="n">CLS</span>

<span class="n">SUB</span> <span class="n">DrawHline</span> <span class="p">(</span><span class="n">fromx%</span><span class="p">,</span> <span class="n">tox%</span><span class="p">,</span> <span class="n">yy%</span><span class="p">,</span> <span class="n">col%</span><span class="p">)</span>
  <span class="c1">'DEF SEG = &amp;HA000</span>
  <span class="c1">'IF fromx% &gt; tox% THEN SWAP fromx%, tox%</span>
  <span class="c1">'yyy&amp; = yy%</span>
  <span class="c1">'sloc&amp; = yyy&amp; * 320 + fromx%</span>
  <span class="c1">'eloc&amp; = sloc&amp; + (tox% - fromx%)</span>
  <span class="c1">'FOR t&amp; = sloc&amp; TO eloc&amp;</span>
  <span class="c1">'  POKE t&amp;, col%</span>
  <span class="c1">'NEXT</span>
  <span class="c1">'DEF SEG</span>
  <span class="n">LINE</span> <span class="p">(</span><span class="n">fromx%</span><span class="p">,</span> <span class="n">yy%</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">tox%</span><span class="p">,</span> <span class="n">yy%</span><span class="p">),</span> <span class="n">_RGB</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span> <span class="c1">'col%</span>
<span class="n">END</span> <span class="n">SUB</span>

<span class="n">SUB</span> <span class="n">DrawTriangle</span> <span class="p">(</span><span class="n">x1%</span><span class="p">,</span> <span class="n">y1%</span><span class="p">,</span> <span class="n">x2%</span><span class="p">,</span> <span class="n">y2%</span><span class="p">,</span> <span class="n">x3%</span><span class="p">,</span> <span class="n">y3%</span><span class="p">,</span> <span class="n">col%</span><span class="p">)</span>
  <span class="n">DO</span>
    <span class="n">sflag%</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">IF</span> <span class="n">y1%</span> <span class="o">&gt;</span> <span class="n">y2%</span> <span class="n">THEN</span>
      <span class="n">sflag%</span> <span class="o">=</span> <span class="mi">1</span>
      <span class="n">SWAP</span> <span class="n">y1%</span><span class="p">,</span> <span class="n">y2%</span>
      <span class="n">SWAP</span> <span class="n">x1%</span><span class="p">,</span> <span class="n">x2%</span>
    <span class="n">END</span> <span class="n">IF</span>
    <span class="n">IF</span> <span class="n">y2%</span> <span class="o">&gt;</span> <span class="n">y3%</span> <span class="n">THEN</span>
      <span class="n">sflag%</span> <span class="o">=</span> <span class="mi">1</span>
      <span class="n">SWAP</span> <span class="n">y2%</span><span class="p">,</span> <span class="n">y3%</span>
      <span class="n">SWAP</span> <span class="n">x2%</span><span class="p">,</span> <span class="n">x3%</span>
    <span class="n">END</span> <span class="n">IF</span>
  <span class="n">LOOP</span> <span class="n">UNTIL</span> <span class="n">sflag%</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="c1">'</span>
  <span class="n">IF</span> <span class="n">y2%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="n">THEN</span>
    <span class="c1">' Draw a flat bottomed triangle</span>
    <span class="n">ydiff1%</span> <span class="o">=</span> <span class="n">y2%</span> <span class="o">-</span> <span class="n">y1%</span>
    <span class="n">ydiff2%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="o">-</span> <span class="n">y1%</span>
    <span class="n">IF</span> <span class="n">ydiff1%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
      <span class="n">slope1!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x2%</span> <span class="o">-</span> <span class="n">x1%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff1%</span>
    <span class="n">ELSE</span>
      <span class="n">slope1!</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">END</span> <span class="n">IF</span>
    <span class="n">IF</span> <span class="n">ydiff2%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
      <span class="n">slope2!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x3%</span> <span class="o">-</span> <span class="n">x1%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff2%</span>
    <span class="n">ELSE</span>
      <span class="n">slope2!</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">END</span> <span class="n">IF</span>
    <span class="n">sx!</span> <span class="o">=</span> <span class="n">x1%</span><span class="p">:</span> <span class="n">ex!</span> <span class="o">=</span> <span class="n">x1%</span>
    <span class="n">FOR</span> <span class="n">y%</span> <span class="o">=</span> <span class="n">y1%</span> <span class="n">TO</span> <span class="n">y2%</span>
      <span class="n">CALL</span> <span class="n">DrawHline</span><span class="p">(</span><span class="n">CINT</span><span class="p">(</span><span class="n">sx!</span><span class="p">),</span> <span class="n">CINT</span><span class="p">(</span><span class="n">ex!</span><span class="p">),</span> <span class="n">y%</span><span class="p">,</span> <span class="n">col%</span><span class="p">)</span>
      <span class="n">sx!</span> <span class="o">=</span> <span class="n">sx!</span> <span class="o">+</span> <span class="n">slope1!</span>
      <span class="n">ex!</span> <span class="o">=</span> <span class="n">ex!</span> <span class="o">+</span> <span class="n">slope2!</span>
    <span class="n">NEXT</span>
    <span class="n">EXIT</span> <span class="n">SUB</span>
  <span class="n">ELSE</span>
    <span class="n">IF</span> <span class="n">y1%</span> <span class="o">=</span> <span class="n">y2%</span> <span class="n">THEN</span>
      <span class="c1">'</span>
      <span class="c1">' Draw a flat topped triangle</span>
      <span class="n">ydiff1%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="o">-</span> <span class="n">y1%</span>
      <span class="n">ydiff2%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="o">-</span> <span class="n">y2%</span>
      <span class="n">IF</span> <span class="n">ydiff1%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
        <span class="n">slope1!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x3%</span> <span class="o">-</span> <span class="n">x1%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff1%</span>
      <span class="n">ELSE</span>
        <span class="n">slope1!</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="n">END</span> <span class="n">IF</span>
      <span class="n">IF</span> <span class="n">ydiff2%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
        <span class="n">slope2!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x3%</span> <span class="o">-</span> <span class="n">x2%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff2%</span>
      <span class="n">ELSE</span>
        <span class="n">slope2!</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="n">END</span> <span class="n">IF</span>
      <span class="n">sx!</span> <span class="o">=</span> <span class="n">x1%</span><span class="p">:</span> <span class="n">ex!</span> <span class="o">=</span> <span class="n">x2%</span>
      <span class="n">FOR</span> <span class="n">y%</span> <span class="o">=</span> <span class="n">y1%</span> <span class="n">TO</span> <span class="n">y3%</span>
        <span class="n">CALL</span> <span class="n">DrawHline</span><span class="p">(</span><span class="n">CINT</span><span class="p">(</span><span class="n">sx!</span><span class="p">),</span> <span class="n">CINT</span><span class="p">(</span><span class="n">ex!</span><span class="p">),</span> <span class="n">y%</span><span class="p">,</span> <span class="n">col%</span><span class="p">)</span>
        <span class="n">sx!</span> <span class="o">=</span> <span class="n">sx!</span> <span class="o">+</span> <span class="n">slope1!</span>
        <span class="n">ex!</span> <span class="o">=</span> <span class="n">ex!</span> <span class="o">+</span> <span class="n">slope2!</span>
      <span class="n">NEXT</span>
      <span class="n">x1%</span> <span class="o">=</span> <span class="n">sx!</span><span class="p">:</span> <span class="n">x2%</span> <span class="o">=</span> <span class="n">ex!</span>
      <span class="n">EXIT</span> <span class="n">SUB</span>
    <span class="n">ELSE</span>
      <span class="c1">' Draw a general purpose triangle</span>
      <span class="c1">' First draw the flat bottom portion (top half)</span>
      <span class="n">ydiff1%</span> <span class="o">=</span> <span class="n">y2%</span> <span class="o">-</span> <span class="n">y1%</span>
      <span class="n">ydiff2%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="o">-</span> <span class="n">y1%</span>
      <span class="n">IF</span> <span class="n">ydiff1%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
        <span class="n">slope1!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x2%</span> <span class="o">-</span> <span class="n">x1%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff1%</span>
      <span class="n">ELSE</span>
        <span class="n">slope1!</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="n">END</span> <span class="n">IF</span>
      <span class="n">IF</span> <span class="n">ydiff2%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
        <span class="n">slope2!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x3%</span> <span class="o">-</span> <span class="n">x1%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff2%</span>
      <span class="n">ELSE</span>
        <span class="n">slope2!</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="n">END</span> <span class="n">IF</span>
      <span class="n">sx!</span> <span class="o">=</span> <span class="n">x1%</span><span class="p">:</span> <span class="n">ex!</span> <span class="o">=</span> <span class="n">x1%</span>
      <span class="n">FOR</span> <span class="n">y%</span> <span class="o">=</span> <span class="n">y1%</span> <span class="n">TO</span> <span class="n">y2%</span>
        <span class="n">CALL</span> <span class="n">DrawHline</span><span class="p">(</span><span class="n">CINT</span><span class="p">(</span><span class="n">sx!</span><span class="p">),</span> <span class="n">CINT</span><span class="p">(</span><span class="n">ex!</span><span class="p">),</span> <span class="n">y%</span><span class="p">,</span> <span class="n">col%</span><span class="p">)</span>
        <span class="n">sx!</span> <span class="o">=</span> <span class="n">sx!</span> <span class="o">+</span> <span class="n">slope1!</span>
        <span class="n">ex!</span> <span class="o">=</span> <span class="n">ex!</span> <span class="o">+</span> <span class="n">slope2!</span>
      <span class="n">NEXT</span>
      <span class="c1">' Then draw the flat topped portion (bottom half)</span>
      <span class="n">x1%</span> <span class="o">=</span> <span class="n">x2%</span>
      <span class="n">x2%</span> <span class="o">=</span> <span class="n">ex!</span>
      <span class="n">y1%</span> <span class="o">=</span> <span class="n">y2%</span>
      <span class="n">ydiff1%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="o">-</span> <span class="n">y1%</span>
      <span class="n">ydiff2%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="o">-</span> <span class="n">y2%</span>
      <span class="n">IF</span> <span class="n">ydiff1%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
        <span class="n">slope1!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x3%</span> <span class="o">-</span> <span class="n">x1%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff1%</span>
      <span class="n">ELSE</span>
        <span class="n">slope1!</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="n">END</span> <span class="n">IF</span>
      <span class="n">IF</span> <span class="n">ydiff2%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
        <span class="n">slope2!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x3%</span> <span class="o">-</span> <span class="n">x2%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff2%</span>
      <span class="n">ELSE</span>
        <span class="n">slope2!</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="n">END</span> <span class="n">IF</span>
      <span class="n">sx!</span> <span class="o">=</span> <span class="n">x1%</span><span class="p">:</span> <span class="n">ex!</span> <span class="o">=</span> <span class="n">x2%</span>
      <span class="n">FOR</span> <span class="n">y%</span> <span class="o">=</span> <span class="n">y1%</span> <span class="n">TO</span> <span class="n">y3%</span>
        <span class="n">CALL</span> <span class="n">DrawHline</span><span class="p">(</span><span class="n">CINT</span><span class="p">(</span><span class="n">sx!</span><span class="p">),</span> <span class="n">CINT</span><span class="p">(</span><span class="n">ex!</span><span class="p">),</span> <span class="n">y%</span><span class="p">,</span> <span class="n">col%</span><span class="p">)</span>
        <span class="n">sx!</span> <span class="o">=</span> <span class="n">sx!</span> <span class="o">+</span> <span class="n">slope1!</span>
        <span class="n">ex!</span> <span class="o">=</span> <span class="n">ex!</span> <span class="o">+</span> <span class="n">slope2!</span>
      <span class="n">NEXT</span>
      <span class="n">x1%</span> <span class="o">=</span> <span class="n">sx!</span><span class="p">:</span> <span class="n">x2%</span> <span class="o">=</span> <span class="n">ex!</span>
    <span class="n">END</span> <span class="n">IF</span>
  <span class="n">END</span> <span class="n">IF</span>
  <span class="c1">'</span>
<span class="n">END</span> <span class="n">SUB</span> 

</code></pre></div></div>

<p>A 3D Spinning Cube demo using a hardware image and <strong>QB64GL</strong> hardware acceleration with <a href="_MAPTRIANGLE.html">_MAPTRIANGLE</a>:</p>

<div class="language-vb highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">' Copyright (C) 2011 by Andrew L. Ayers</span>

<span class="n">DIM</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="n">AS</span> <span class="n">LONG</span>

<span class="c1">' OBJECTS DEFINED AS FOLLOWS:</span>
<span class="c1">'   (#OBJECTS,#PLANES PER OBJECT,#POINTS PER PLANE, XYZ TRIPLE)</span>

<span class="n">DIM</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="n">AS</span> <span class="n">LONG</span> <span class="c1">' SCREEN PLANE COORDINATES</span>

<span class="c1">' DPLANE2D DEFINED AS FOLLOWS:</span>
<span class="c1">'   (#POINTS PER PLANE, XY DOUBLE)</span>

<span class="n">DIM</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="n">AS</span> <span class="n">LONG</span> <span class="c1">' 3D PLANE COORDINATES</span>

<span class="c1">' DPLANE3D DEFINED AS FOLLOWS:</span>
<span class="c1">'   (#POINTS PER PLANE, XYZ TRIPLE)</span>

<span class="n">DIM</span> <span class="n">PLANECOL</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="n">AS</span> <span class="n">INTEGER</span>
<span class="n">DIM</span> <span class="n">STAB</span><span class="p">(</span><span class="mi">359</span><span class="p">),</span> <span class="n">CTAB</span><span class="p">(</span><span class="mi">359</span><span class="p">)</span> <span class="c1">' SINE/COSINE TABLES</span>
<span class="n">D</span><span class="o">&amp;</span> <span class="o">=</span> <span class="mi">400</span><span class="p">:</span> <span class="n">MX</span><span class="o">&amp;</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">MY</span><span class="o">&amp;</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">MZ</span><span class="o">&amp;</span> <span class="o">=</span> <span class="o">-</span><span class="mi">100</span>
<span class="c1">'</span>
<span class="c1">' COMPUTE SINE/COSINE TABLES</span>
<span class="n">FOR</span> <span class="n">t&amp;</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="mi">359</span>
    <span class="n">STAB</span><span class="p">(</span><span class="n">t&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="n">SIN</span><span class="p">((</span><span class="mf">6.282</span> <span class="o">/</span> <span class="mi">360</span><span class="p">)</span> <span class="o">*</span> <span class="n">t&amp;</span><span class="p">)</span>
    <span class="n">CTAB</span><span class="p">(</span><span class="n">t&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="n">COS</span><span class="p">((</span><span class="mf">6.282</span> <span class="o">/</span> <span class="mi">360</span><span class="p">)</span> <span class="o">*</span> <span class="n">t&amp;</span><span class="p">)</span>
<span class="n">NEXT</span>
<span class="c1">'</span>
<span class="c1">' BUILD CUBE IN OBJECT ARRAY</span>
<span class="c1">' PLANE 0</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="c1">' PLANE 1</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1">' PLANE 2</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="c1">' PLANE 3</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1">' PLANE 4</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1">' PLANE 5</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">:</span> <span class="n">OBJECT</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1">' SET UP PLANE COLORS ON CUBE</span>
<span class="c1">'</span>
<span class="n">PLANECOL</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">PLANECOL</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">PLANECOL</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">PLANECOL</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">PLANECOL</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">PLANECOL</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">=</span> <span class="mi">8</span>
<span class="c1">'</span>
<span class="n">_TITLE</span> <span class="s">"QB64 _MAPTRIANGLE CUBE DEMO"</span>
<span class="n">SCREEN</span> <span class="n">_NEWIMAGE</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>

<span class="n">TextureImage</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">_LOADIMAGE</span><span class="p">(</span><span class="s">"qb64_trans.png"</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span><span class="c1">'replace with your own image</span>
<span class="n">_SETALPHA</span> <span class="mi">128</span><span class="p">,</span> <span class="p">,</span> <span class="n">TextureImage</span><span class="o">&amp;</span>
<span class="n">TextureImage</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">_COPYIMAGE</span><span class="p">(</span><span class="n">TextureImage</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">33</span><span class="p">)</span><span class="c1">'copy of hardware image</span>

<span class="c1">'_PUTIMAGE , Image&amp;</span>

<span class="n">DO</span>

    <span class="c1">' LIMIT TO 25 FPS</span>
    <span class="c1">'_LIMIT 25</span>
    <span class="c1">' ERASE LAST IMAGE</span>
    <span class="c1">'CLS , _RGB(0, 0, 160)</span>

    <span class="c1">' CALCULATE POSITION OF NEW IMAGE</span>
    <span class="n">FOR</span> <span class="n">OB</span><span class="o">&amp;</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="mi">0</span> <span class="c1">' UP TO 9 OBJECTS</span>
        <span class="n">SP</span> <span class="o">=</span> <span class="n">STAB</span><span class="p">(</span><span class="n">PIT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)):</span> <span class="n">CP</span> <span class="o">=</span> <span class="n">CTAB</span><span class="p">(</span><span class="n">PIT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">))</span>
        <span class="n">SY</span> <span class="o">=</span> <span class="n">STAB</span><span class="p">(</span><span class="n">YAW</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)):</span> <span class="n">CY</span> <span class="o">=</span> <span class="n">CTAB</span><span class="p">(</span><span class="n">YAW</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">))</span>
        <span class="n">SR</span> <span class="o">=</span> <span class="n">STAB</span><span class="p">(</span><span class="n">ROL</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)):</span> <span class="n">CR</span> <span class="o">=</span> <span class="n">CTAB</span><span class="p">(</span><span class="n">ROL</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">))</span>
        <span class="n">FOR</span> <span class="n">PL</span><span class="o">&amp;</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="mi">5</span> <span class="c1">' CONSISTING OF UP TO 9 PLANES</span>
            <span class="c1">'</span>
            <span class="n">FOR</span> <span class="n">PN</span><span class="o">&amp;</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">TO</span> <span class="mi">3</span> <span class="c1">' EACH PLANE WITH UP TO 4 POINTS (#5 TO PAINT)</span>
                <span class="c1">'</span>
                <span class="c1">' TRANSLATE, THEN ROTATE</span>
                <span class="n">TX</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">OBJECT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">PL</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">TY</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">OBJECT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">PL</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">TZ</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">OBJECT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">PL</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                <span class="n">RX</span><span class="o">&amp;</span> <span class="o">=</span> <span class="p">(</span><span class="n">TZ</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CP</span> <span class="o">-</span> <span class="n">TY</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">SP</span><span class="p">)</span> <span class="o">*</span> <span class="n">SY</span> <span class="o">-</span> <span class="p">((</span><span class="n">TZ</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">SP</span> <span class="o">+</span> <span class="n">TY</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CP</span><span class="p">)</span> <span class="o">*</span> <span class="n">SR</span> <span class="o">+</span> <span class="n">TX</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CR</span><span class="p">)</span> <span class="o">*</span> <span class="n">CY</span>
                <span class="n">RY</span><span class="o">&amp;</span> <span class="o">=</span> <span class="p">(</span><span class="n">TZ</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">SP</span> <span class="o">+</span> <span class="n">TY</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CP</span><span class="p">)</span> <span class="o">*</span> <span class="n">CR</span> <span class="o">-</span> <span class="n">TX</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">SR</span>
                <span class="n">RZ</span><span class="o">&amp;</span> <span class="o">=</span> <span class="p">(</span><span class="n">TZ</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CP</span> <span class="o">-</span> <span class="n">TY</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">SP</span><span class="p">)</span> <span class="o">*</span> <span class="n">CY</span> <span class="o">+</span> <span class="p">((</span><span class="n">TZ</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">SP</span> <span class="o">+</span> <span class="n">TY</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CP</span><span class="p">)</span> <span class="o">*</span> <span class="n">SR</span> <span class="o">+</span> <span class="n">TX</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">CR</span><span class="p">)</span> <span class="o">*</span> <span class="n">SY</span>
                <span class="c1">'</span>
                <span class="c1">' ROTATE, THEN TRANSLATE</span>
                <span class="n">RX</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">RX</span><span class="o">&amp;</span> <span class="o">+</span> <span class="n">MX</span><span class="o">&amp;</span>
                <span class="n">RY</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">RY</span><span class="o">&amp;</span> <span class="o">+</span> <span class="n">MY</span><span class="o">&amp;</span>
                <span class="n">RZ</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">RZ</span><span class="o">&amp;</span> <span class="o">+</span> <span class="n">MZ</span><span class="o">&amp;</span>
                <span class="c1">'</span>
                <span class="n">DPLANE3D</span><span class="p">(</span><span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="n">RX</span><span class="o">&amp;</span><span class="p">:</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">RY</span><span class="o">&amp;</span><span class="p">:</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">RZ</span><span class="o">&amp;</span>
                <span class="n">DPLANE2D</span><span class="p">(</span><span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">399</span> <span class="o">+</span> <span class="p">(</span><span class="n">D</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">RX</span><span class="o">&amp;</span> <span class="o">/</span> <span class="n">RZ</span><span class="o">&amp;</span><span class="p">)</span>
                <span class="n">DPLANE2D</span><span class="p">(</span><span class="n">PN</span><span class="o">&amp;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">299</span> <span class="o">+</span> <span class="p">(</span><span class="n">D</span><span class="o">&amp;</span> <span class="o">*</span> <span class="n">RY</span><span class="o">&amp;</span> <span class="o">/</span> <span class="n">RZ</span><span class="o">&amp;</span><span class="p">)</span>
            <span class="n">NEXT</span>
            <span class="c1">'</span>
            <span class="c1">' CHECK TO SEE IF PLANE IS VISIBLE</span>
            <span class="n">x1&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">y1&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="n">Z1</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">x2&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">y2&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="n">Z2</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">x3&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">y3&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="n">Z3</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">DPLANE3D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">T1</span><span class="o">&amp;</span> <span class="o">=</span> <span class="o">-</span><span class="n">x1&amp;</span> <span class="o">*</span> <span class="p">(</span><span class="n">y2&amp;</span> <span class="o">*</span> <span class="n">Z3</span><span class="o">&amp;</span> <span class="o">-</span> <span class="n">y3&amp;</span> <span class="o">*</span> <span class="n">Z2</span><span class="o">&amp;</span><span class="p">)</span>
            <span class="n">T2</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">x2&amp;</span> <span class="o">*</span> <span class="p">(</span><span class="n">y3&amp;</span> <span class="o">*</span> <span class="n">Z1</span><span class="o">&amp;</span> <span class="o">-</span> <span class="n">y1&amp;</span> <span class="o">*</span> <span class="n">Z3</span><span class="o">&amp;</span><span class="p">)</span>
            <span class="n">T3</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">x3&amp;</span> <span class="o">*</span> <span class="p">(</span><span class="n">y1&amp;</span> <span class="o">*</span> <span class="n">Z2</span><span class="o">&amp;</span> <span class="o">-</span> <span class="n">y2&amp;</span> <span class="o">*</span> <span class="n">Z1</span><span class="o">&amp;</span><span class="p">)</span>
            <span class="c1">'</span>
            <span class="n">VISIBLE</span><span class="o">&amp;</span> <span class="o">=</span> <span class="n">T1</span><span class="o">&amp;</span> <span class="o">-</span> <span class="n">T2</span><span class="o">&amp;</span> <span class="o">-</span> <span class="n">T3</span><span class="o">&amp;</span>
            <span class="n">IF</span> <span class="n">VISIBLE</span><span class="o">&amp;</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
                <span class="c1">' DRAW PLANE</span>
                <span class="n">xx1%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">yy1%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">xx2%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">yy2%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">xx3%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">yy3%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">col%</span> <span class="o">=</span> <span class="n">PLANECOL</span><span class="p">(</span><span class="n">PL</span><span class="o">&amp;</span><span class="p">)</span>

                <span class="n">_BLEND</span> <span class="n">TextureImage</span><span class="o">&amp;</span>
                <span class="n">_MAPTRIANGLE</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">TextureImage</span><span class="o">&amp;</span> <span class="n">TO</span><span class="p">(</span><span class="n">xx1%</span><span class="p">,</span> <span class="n">yy1%</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">xx2%</span><span class="p">,</span> <span class="n">yy2%</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">xx3%</span><span class="p">,</span> <span class="n">yy3%</span><span class="p">)</span>

                <span class="c1">' CALL DrawTriangle(xx1%, yy1%, xx2%, yy2%, xx3%, yy3%, col%)</span>
                <span class="n">xx1%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">yy1%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">xx3%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">yy3%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">xx4%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="n">yy4%</span> <span class="o">=</span> <span class="n">DPLANE2D</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

                <span class="n">_DONTBLEND</span> <span class="n">TextureImage</span><span class="o">&amp;</span>
                <span class="n">_MAPTRIANGLE</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">TextureImage</span><span class="o">&amp;</span> <span class="n">TO</span><span class="p">(</span><span class="n">xx3%</span><span class="p">,</span> <span class="n">yy3%</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">xx1%</span><span class="p">,</span> <span class="n">yy1%</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">xx4%</span><span class="p">,</span> <span class="n">yy4%</span><span class="p">),</span> <span class="p">,</span> <span class="n">_SMOOTH</span>
                <span class="c1">'CALL DrawTriangle(xx1%, yy1%, xx3%, yy3%, xx4%, yy4%, col%)</span>
            <span class="n">END</span> <span class="n">IF</span>
        <span class="n">NEXT</span>
        <span class="c1">'</span>
        <span class="c1">' ROTATE OBJECT</span>
        <span class="n">PIT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="n">PIT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">5</span>
        <span class="n">IF</span> <span class="n">PIT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">359</span> <span class="n">THEN</span> <span class="n">PIT</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">YAW</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="n">YAW</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">7</span>
        <span class="n">IF</span> <span class="n">YAW</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">359</span> <span class="n">THEN</span> <span class="n">YAW</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">ROL</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="n">ROL</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">9</span>
        <span class="n">IF</span> <span class="n">ROL</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">359</span> <span class="n">THEN</span> <span class="n">ROL</span><span class="p">(</span><span class="n">OB</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">NEXT</span>
    <span class="c1">'</span>
    <span class="c1">' Calculate Frames per Second</span>
    <span class="n">frames%</span> <span class="o">=</span> <span class="n">frames%</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">IF</span> <span class="n">oldtime$</span> <span class="o">&lt;&gt;</span> <span class="n">TIME</span><span class="err">$</span> <span class="n">THEN</span>
        <span class="n">fps%</span> <span class="o">=</span> <span class="n">frames%</span>
        <span class="n">frames%</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">oldtime$</span> <span class="o">=</span> <span class="n">TIME</span><span class="err">$</span>
    <span class="n">END</span> <span class="n">IF</span>
    <span class="n">COLOR</span> <span class="n">_RGB</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">):</span> <span class="n">LOCATE</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="n">PRINT</span> <span class="s">"FPS :"</span><span class="err">;</span> <span class="n">fps%</span>
    <span class="c1">'</span>
    <span class="c1">' Show Image on Screen</span>
    <span class="n">_DISPLAY</span>
<span class="n">LOOP</span> <span class="n">UNTIL</span> <span class="n">INKEY</span><span class="err">$</span> <span class="o">&lt;&gt;</span> <span class="s">""</span>
<span class="n">WIDTH</span> <span class="mi">80</span><span class="p">:</span> <span class="n">SCREEN</span> <span class="mi">0</span><span class="p">:</span> <span class="n">CLS</span>

<span class="n">SUB</span> <span class="n">DrawHline</span> <span class="p">(</span><span class="n">fromx%</span><span class="p">,</span> <span class="n">tox%</span><span class="p">,</span> <span class="n">yy%</span><span class="p">,</span> <span class="n">col%</span><span class="p">)</span>
<span class="c1">'DEF SEG = &amp;HA000</span>
<span class="c1">'IF fromx% &gt; tox% THEN SWAP fromx%, tox%</span>
<span class="c1">'yyy&amp; = yy%</span>
<span class="c1">'sloc&amp; = yyy&amp; * 320 + fromx%</span>
<span class="c1">'eloc&amp; = sloc&amp; + (tox% - fromx%)</span>
<span class="c1">'FOR t&amp; = sloc&amp; TO eloc&amp;</span>
<span class="c1">'  POKE t&amp;, col%</span>
<span class="c1">'NEXT</span>
<span class="c1">'DEF SEG</span>
<span class="n">LINE</span> <span class="p">(</span><span class="n">fromx%</span><span class="p">,</span> <span class="n">yy%</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">tox%</span><span class="p">,</span> <span class="n">yy%</span><span class="p">),</span> <span class="n">_RGB</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span> <span class="c1">'col%</span>
<span class="n">END</span> <span class="n">SUB</span>

<span class="n">SUB</span> <span class="n">DrawTriangle</span> <span class="p">(</span><span class="n">x1%</span><span class="p">,</span> <span class="n">y1%</span><span class="p">,</span> <span class="n">x2%</span><span class="p">,</span> <span class="n">y2%</span><span class="p">,</span> <span class="n">x3%</span><span class="p">,</span> <span class="n">y3%</span><span class="p">,</span> <span class="n">col%</span><span class="p">)</span>
<span class="n">DO</span>
    <span class="n">sflag%</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">IF</span> <span class="n">y1%</span> <span class="o">&gt;</span> <span class="n">y2%</span> <span class="n">THEN</span>
        <span class="n">sflag%</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">SWAP</span> <span class="n">y1%</span><span class="p">,</span> <span class="n">y2%</span>
        <span class="n">SWAP</span> <span class="n">x1%</span><span class="p">,</span> <span class="n">x2%</span>
    <span class="n">END</span> <span class="n">IF</span>
    <span class="n">IF</span> <span class="n">y2%</span> <span class="o">&gt;</span> <span class="n">y3%</span> <span class="n">THEN</span>
        <span class="n">sflag%</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">SWAP</span> <span class="n">y2%</span><span class="p">,</span> <span class="n">y3%</span>
        <span class="n">SWAP</span> <span class="n">x2%</span><span class="p">,</span> <span class="n">x3%</span>
    <span class="n">END</span> <span class="n">IF</span>
<span class="n">LOOP</span> <span class="n">UNTIL</span> <span class="n">sflag%</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1">'</span>
<span class="n">IF</span> <span class="n">y2%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="n">THEN</span>
    <span class="c1">' Draw a flat bottomed triangle</span>
    <span class="n">ydiff1%</span> <span class="o">=</span> <span class="n">y2%</span> <span class="o">-</span> <span class="n">y1%</span>
    <span class="n">ydiff2%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="o">-</span> <span class="n">y1%</span>
    <span class="n">IF</span> <span class="n">ydiff1%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
        <span class="n">slope1!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x2%</span> <span class="o">-</span> <span class="n">x1%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff1%</span>
    <span class="n">ELSE</span>
        <span class="n">slope1!</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">END</span> <span class="n">IF</span>
    <span class="n">IF</span> <span class="n">ydiff2%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
        <span class="n">slope2!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x3%</span> <span class="o">-</span> <span class="n">x1%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff2%</span>
    <span class="n">ELSE</span>
        <span class="n">slope2!</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">END</span> <span class="n">IF</span>
    <span class="n">sx!</span> <span class="o">=</span> <span class="n">x1%</span><span class="p">:</span> <span class="n">ex!</span> <span class="o">=</span> <span class="n">x1%</span>
    <span class="n">FOR</span> <span class="n">y%</span> <span class="o">=</span> <span class="n">y1%</span> <span class="n">TO</span> <span class="n">y2%</span>
        <span class="n">CALL</span> <span class="n">DrawHline</span><span class="p">(</span><span class="n">CINT</span><span class="p">(</span><span class="n">sx!</span><span class="p">),</span> <span class="n">CINT</span><span class="p">(</span><span class="n">ex!</span><span class="p">),</span> <span class="n">y%</span><span class="p">,</span> <span class="n">col%</span><span class="p">)</span>
        <span class="n">sx!</span> <span class="o">=</span> <span class="n">sx!</span> <span class="o">+</span> <span class="n">slope1!</span>
        <span class="n">ex!</span> <span class="o">=</span> <span class="n">ex!</span> <span class="o">+</span> <span class="n">slope2!</span>
    <span class="n">NEXT</span>
    <span class="n">EXIT</span> <span class="n">SUB</span>
<span class="n">ELSE</span>
    <span class="n">IF</span> <span class="n">y1%</span> <span class="o">=</span> <span class="n">y2%</span> <span class="n">THEN</span>
        <span class="c1">'</span>
        <span class="c1">' Draw a flat topped triangle</span>
        <span class="n">ydiff1%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="o">-</span> <span class="n">y1%</span>
        <span class="n">ydiff2%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="o">-</span> <span class="n">y2%</span>
        <span class="n">IF</span> <span class="n">ydiff1%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
            <span class="n">slope1!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x3%</span> <span class="o">-</span> <span class="n">x1%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff1%</span>
        <span class="n">ELSE</span>
            <span class="n">slope1!</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">END</span> <span class="n">IF</span>
        <span class="n">IF</span> <span class="n">ydiff2%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
            <span class="n">slope2!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x3%</span> <span class="o">-</span> <span class="n">x2%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff2%</span>
        <span class="n">ELSE</span>
            <span class="n">slope2!</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">END</span> <span class="n">IF</span>
        <span class="n">sx!</span> <span class="o">=</span> <span class="n">x1%</span><span class="p">:</span> <span class="n">ex!</span> <span class="o">=</span> <span class="n">x2%</span>
        <span class="n">FOR</span> <span class="n">y%</span> <span class="o">=</span> <span class="n">y1%</span> <span class="n">TO</span> <span class="n">y3%</span>
            <span class="n">CALL</span> <span class="n">DrawHline</span><span class="p">(</span><span class="n">CINT</span><span class="p">(</span><span class="n">sx!</span><span class="p">),</span> <span class="n">CINT</span><span class="p">(</span><span class="n">ex!</span><span class="p">),</span> <span class="n">y%</span><span class="p">,</span> <span class="n">col%</span><span class="p">)</span>
            <span class="n">sx!</span> <span class="o">=</span> <span class="n">sx!</span> <span class="o">+</span> <span class="n">slope1!</span>
            <span class="n">ex!</span> <span class="o">=</span> <span class="n">ex!</span> <span class="o">+</span> <span class="n">slope2!</span>
        <span class="n">NEXT</span>
        <span class="n">x1%</span> <span class="o">=</span> <span class="n">sx!</span><span class="p">:</span> <span class="n">x2%</span> <span class="o">=</span> <span class="n">ex!</span>
        <span class="n">EXIT</span> <span class="n">SUB</span>
    <span class="n">ELSE</span>
        <span class="c1">' Draw a general purpose triangle</span>
        <span class="c1">' First draw the flat bottom portion (top half)</span>
        <span class="n">ydiff1%</span> <span class="o">=</span> <span class="n">y2%</span> <span class="o">-</span> <span class="n">y1%</span>
        <span class="n">ydiff2%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="o">-</span> <span class="n">y1%</span>
        <span class="n">IF</span> <span class="n">ydiff1%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
            <span class="n">slope1!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x2%</span> <span class="o">-</span> <span class="n">x1%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff1%</span>
        <span class="n">ELSE</span>
            <span class="n">slope1!</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">END</span> <span class="n">IF</span>
        <span class="n">IF</span> <span class="n">ydiff2%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
            <span class="n">slope2!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x3%</span> <span class="o">-</span> <span class="n">x1%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff2%</span>
        <span class="n">ELSE</span>
            <span class="n">slope2!</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">END</span> <span class="n">IF</span>
        <span class="n">sx!</span> <span class="o">=</span> <span class="n">x1%</span><span class="p">:</span> <span class="n">ex!</span> <span class="o">=</span> <span class="n">x1%</span>
        <span class="n">FOR</span> <span class="n">y%</span> <span class="o">=</span> <span class="n">y1%</span> <span class="n">TO</span> <span class="n">y2%</span>
            <span class="n">CALL</span> <span class="n">DrawHline</span><span class="p">(</span><span class="n">CINT</span><span class="p">(</span><span class="n">sx!</span><span class="p">),</span> <span class="n">CINT</span><span class="p">(</span><span class="n">ex!</span><span class="p">),</span> <span class="n">y%</span><span class="p">,</span> <span class="n">col%</span><span class="p">)</span>
            <span class="n">sx!</span> <span class="o">=</span> <span class="n">sx!</span> <span class="o">+</span> <span class="n">slope1!</span>
            <span class="n">ex!</span> <span class="o">=</span> <span class="n">ex!</span> <span class="o">+</span> <span class="n">slope2!</span>
        <span class="n">NEXT</span>
        <span class="c1">' Then draw the flat topped portion (bottom half)</span>
        <span class="n">x1%</span> <span class="o">=</span> <span class="n">x2%</span>
        <span class="n">x2%</span> <span class="o">=</span> <span class="n">ex!</span>
        <span class="n">y1%</span> <span class="o">=</span> <span class="n">y2%</span>
        <span class="n">ydiff1%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="o">-</span> <span class="n">y1%</span>
        <span class="n">ydiff2%</span> <span class="o">=</span> <span class="n">y3%</span> <span class="o">-</span> <span class="n">y2%</span>
        <span class="n">IF</span> <span class="n">ydiff1%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
            <span class="n">slope1!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x3%</span> <span class="o">-</span> <span class="n">x1%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff1%</span>
        <span class="n">ELSE</span>
            <span class="n">slope1!</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">END</span> <span class="n">IF</span>
        <span class="n">IF</span> <span class="n">ydiff2%</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span> <span class="n">THEN</span>
            <span class="n">slope2!</span> <span class="o">=</span> <span class="p">(</span><span class="n">x3%</span> <span class="o">-</span> <span class="n">x2%</span><span class="p">)</span> <span class="o">/</span> <span class="n">ydiff2%</span>
        <span class="n">ELSE</span>
            <span class="n">slope2!</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">END</span> <span class="n">IF</span>
        <span class="n">sx!</span> <span class="o">=</span> <span class="n">x1%</span><span class="p">:</span> <span class="n">ex!</span> <span class="o">=</span> <span class="n">x2%</span>
        <span class="n">FOR</span> <span class="n">y%</span> <span class="o">=</span> <span class="n">y1%</span> <span class="n">TO</span> <span class="n">y3%</span>
            <span class="n">CALL</span> <span class="n">DrawHline</span><span class="p">(</span><span class="n">CINT</span><span class="p">(</span><span class="n">sx!</span><span class="p">),</span> <span class="n">CINT</span><span class="p">(</span><span class="n">ex!</span><span class="p">),</span> <span class="n">y%</span><span class="p">,</span> <span class="n">col%</span><span class="p">)</span>
            <span class="n">sx!</span> <span class="o">=</span> <span class="n">sx!</span> <span class="o">+</span> <span class="n">slope1!</span>
            <span class="n">ex!</span> <span class="o">=</span> <span class="n">ex!</span> <span class="o">+</span> <span class="n">slope2!</span>
        <span class="n">NEXT</span>
        <span class="n">x1%</span> <span class="o">=</span> <span class="n">sx!</span><span class="p">:</span> <span class="n">x2%</span> <span class="o">=</span> <span class="n">ex!</span>
    <span class="n">END</span> <span class="n">IF</span>
<span class="n">END</span> <span class="n">IF</span>
<span class="c1">'</span>
<span class="n">END</span> <span class="n">SUB</span>

</code></pre></div></div>

<p>Using a desktop image with _MAPTRIANGLE _ANTICLOCKWISE rendering.</p>

<div class="language-vb highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">SCREEN</span> <span class="n">_NEWIMAGE</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>

<span class="n">ss32</span> <span class="o">=</span> <span class="n">_SCREENIMAGE</span> <span class="c1">'take a 32bit software screenshot</span>
<span class="n">_SETALPHA</span> <span class="mi">128</span><span class="p">,</span> <span class="p">,</span> <span class="n">ss32</span> <span class="c1">'make it a bit transparent</span>
<span class="n">ss33</span> <span class="o">=</span> <span class="n">_COPYIMAGE</span><span class="p">(</span><span class="n">ss32</span><span class="p">,</span> <span class="mi">33</span><span class="p">)</span> <span class="c1">'convert it to a hardware image (mode 33)</span>
<span class="n">_FREEIMAGE</span> <span class="n">ss32</span> <span class="c1">'we don't need this anymore</span>

<span class="n">DO</span>
    <span class="n">CLS</span> <span class="p">,</span> <span class="n">_RGB</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span> <span class="c1">'use our software screen as a blue backdrop</span>

    <span class="c1">'rotate our destination points</span>
    <span class="c1">'the QB64 3D co-ordinate system is the same as  OpenGL's:</span>
    <span class="c1">'    negative z is in front of you, if it doesn't have a negative z value you won't see it!</span>
    <span class="c1">'    x goes from left to right, 0 is the middle of the screen</span>
    <span class="c1">'    y goes from bottom to top, 0 is the middle of the screen</span>
    <span class="n">scale</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="n">angle</span> <span class="o">+</span> <span class="mf">0.1</span>
    <span class="n">x1</span> <span class="o">=</span> <span class="n">SIN</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span> <span class="o">*</span> <span class="n">scale</span>
    <span class="n">z1</span> <span class="o">=</span> <span class="n">COS</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span> <span class="o">*</span> <span class="n">scale</span>
    <span class="n">x2</span> <span class="o">=</span> <span class="n">SIN</span><span class="p">(</span><span class="n">angle</span> <span class="o">+</span> <span class="mf">3.14</span><span class="p">)</span> <span class="o">*</span> <span class="n">scale</span> <span class="c1">'adding 3.14 adds 180 degrees</span>
    <span class="n">z2</span> <span class="o">=</span> <span class="n">COS</span><span class="p">(</span><span class="n">angle</span> <span class="o">+</span> <span class="mf">3.14</span><span class="p">)</span> <span class="o">*</span> <span class="n">scale</span>
    <span class="c1">'what we performed above is a 2D/horizontal rotation of points</span>
    <span class="c1">'(3D rotations are beyond the scope of this example)</span>

    <span class="c1">'draw the triangle</span>
    <span class="c1">'_ANTICLOCKWISE makes it only draw when our triangle is facing the correct direction</span>
    <span class="c1">'_SMOOTH applies linear filtering to avoid a pixelated look</span>

    <span class="n">_MAPTRIANGLE</span> <span class="o">**</span><span class="n">_ANTICLOCKWISE</span><span class="o">**</span> <span class="p">(</span><span class="n">_WIDTH</span><span class="p">(</span><span class="n">ss33</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">_HEIGHT</span><span class="p">(</span><span class="n">ss33</span><span class="p">))</span><span class="o">-</span><span class="p">(</span><span class="n">_WIDTH</span><span class="p">(</span><span class="n">ss33</span><span class="p">),</span><span class="n">_</span>
    <span class="n">_HEIGHT</span><span class="p">(</span><span class="n">ss33</span><span class="p">)),</span> <span class="n">ss33</span> <span class="n">TO</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">dist</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="o">-</span><span class="n">scale</span><span class="p">,</span> <span class="n">z1</span> <span class="o">+</span> <span class="n">dist</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="o">-</span><span class="n">scale</span><span class="p">,</span> <span class="n">z2</span> <span class="o">+</span> <span class="n">dist</span><span class="p">),</span> <span class="p">,</span> <span class="o">**</span><span class="n">_SMOOTH</span><span class="o">**</span>

    <span class="n">_LIMIT</span> <span class="mi">30</span>
    <span class="n">_DISPLAY</span>
<span class="n">LOOP</span> 

</code></pre></div></div>

<blockquote>
  <p><strong>Tip:</strong> If you are using Linux you might want to replace “<a href="_SCREENIMAGE.html">_SCREENIMAGE</a>” with a <a href="_LOADIMAGE.html">_LOADIMAGE</a> command if you don’t see anything.</p>
</blockquote>

<h2 id="see-also">See Also</h2>

<ul>
  <li><a href="_PUTIMAGE.html">_PUTIMAGE</a></li>
  <li><a href="_LOADIMAGE.html">_LOADIMAGE</a></li>
  <li><a href="_COPYIMAGE.html">_COPYIMAGE</a></li>
  <li><a href="GET-(graphics-statement).html">GET (graphics statement)</a>, <a href="PUT-(graphics-statement).html">PUT (graphics statement)</a></li>
  <li><a href="STEP.html">STEP</a>, <a href="SIN.html">SIN</a>, <a href="COS.html">COS</a></li>
  <li><a href="Hardware-images.html">Hardware images</a></li>
</ul>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        
        <p class="copyright">QB64.com maintained by <a href="https://github.com/DualBrain">Cory Smith</a> on <a href="https://github.com/DualBrain/QB64">GitHub</a>.</p>
        
        <p>Published with <a href="https://pages.github.com/">GitHub Pages</a></p>
      </footer>
    </div>
  </body>

<!-- Mirrored from qb64.com/wiki/_MAPTRIANGLE.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 07 Nov 2024 13:50:38 GMT -->
</html>