<!DOCTYPE html>
<html lang="en-US">

  
<!-- Mirrored from qb64.com/wiki/Controller-Devices by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 07 Nov 2024 13:50:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.html">
    <link rel="stylesheet" type="text/css" media="screen" href="../assets/css/style2443.css?v=eb9b8c9cad488bd1304035e1bfc5d2e89b0f78df">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>QB64.com | QB64 is a modern extended BASIC programming language that retains QBasic/QuickBASIC 4.5 compatibility and compiles native binaries for Windows, Linux, and macOS.</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="QB64.com" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="QB64 is a modern extended BASIC programming language that retains QBasic/QuickBASIC 4.5 compatibility and compiles native binaries for Windows, Linux, and macOS." />
<meta property="og:description" content="QB64 is a modern extended BASIC programming language that retains QBasic/QuickBASIC 4.5 compatibility and compiles native binaries for Windows, Linux, and macOS." />
<link rel="canonical" href="Controller-Devices-2.html" />
<meta property="og:url" content="Controller-Devices-2.html" />
<meta property="og:site_name" content="QB64.com" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="QB64.com" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"QB64 is a modern extended BASIC programming language that retains QBasic/QuickBASIC 4.5 compatibility and compiles native binaries for Windows, Linux, and macOS.","headline":"QB64.com","url":"https://qb64.com/wiki/Controller-Devices.html"}</script>
<!-- End Jekyll SEO tag -->

    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          
            <!--<a id="forkme_banner" href="https://github.com/DualBrain/QB64">View on GitHub</a>-->
          

          <h1 id="project_title">QB64.com</h1>
          <h2 id="project_tagline">QB64 is a modern extended BASIC programming language that retains QBasic/QuickBASIC 4.5 compatibility and compiles native binaries for Windows, Linux, and macOS.</h2>

          
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>QB64 supports all kinds of keyboard, mouse, joystick, gamepad, steering wheel and other multi-stick controller input devices.</p>

<ul>
  <li>
    <p><strong>In order to read the device controls, the number of input devices MUST first be found using <a href="_DEVICES.html">_DEVICES</a>.</strong></p>
  </li>
  <li>
    <p>After the device count is determined we can find out the type of device, the device name and the type of controls available using the <a href="_DEVICE%24.html">_DEVICE$</a>(device_number) function. The function returns a <a href="STRING.html">STRING</a> containing information about each numbered device.</p>
  </li>
</ul>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">"[CONTROLLER][[DEVICENAME] device description][BUTTON][AXIS][WHEEL]"</code></p>
</blockquote>

<ul>
  <li><a href="_DEVICEINPUT.html">_DEVICEINPUT</a> can indicate a used device number or true when a specified device number  is active.</li>
</ul>

<blockquote>
  <p><strong>device = _DEVICEINPUT</strong> would return 1 for a keyboard event and 2 for a mouse event.</p>
</blockquote>

<blockquote>
  <p><strong>mouse = _DEVICEINPUT(2)</strong> would return -1(true) when the mouse was moved, clicked or scrolled.</p>
</blockquote>

<h2 id="keyboard">[KEYBOARD]</h2>

<p>Normally the number 1 device, it usually only has [<a href="BUTTON.html">BUTTON</a>] controls. Program window must be in focus to read key activity.</p>

<blockquote>
  <p><strong>[KEYBOARD][BUTTON]</strong></p>
</blockquote>

<blockquote>
  <p><a href="_LASTBUTTON.html">_LASTBUTTON</a>(1) will normally return 512 buttons.</p>
</blockquote>

<blockquote>
  <p><a href="_BUTTONCHANGE.html">_BUTTONCHANGE</a>(number) returns -1 when pressed, 1 when released and 0 when there is no event since the last read.</p>
</blockquote>

<blockquote>
  <p><a href="_BUTTON.html">_BUTTON</a>(number) returns -1 when a button is pressed and 0 when released.</p>
</blockquote>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
'                                  **Keyboard Device Button Numbers**
'
**'  Esc F1  F2  F3  F4  F5  F6  F7  F8  F9  F10  F11 F12      SysReq ScrL Pause**                  
'  177 436 433 434 439 440 437 438 395 396 393  394 399       402   392   ---
'  **`~  1!  2@  3#  4$  5%  6^  7&amp;  8*  9(  0)  -_  =+ BkSpc  Insert Home PgUp   NumL    /    *    -** 
'  246 155 156 153 154 159 160 157 158 147 134 135 151 174    447   448   446   386    417  418  423
'  **Tab  Q   W   E   R   T   Y   U   I   O   P   [{  ]}  \|   Delete End  PgDn   7/Home 8/▲  9/PU  + **
'  163 219 221 207 220 218 211 223 195 197 198 241 247 242    213   445   435   429    430  419  424
'  **CapL  A   S   D   F   G   H   J   K   L   ;:  '"   Enter                     4/◄-    5   6/-►  E**
'  391  203 217 202 208 205 206 196 193 194  145 141   167                      426    431  432   **n**
'  **Shift  Z   X   C   V   B   N   M  ,&lt;  .&gt;  /?       Shift          ▲          1/End  2/▼  3/PD  t**
'  390   212 222 201 224 204 200 199 130 136 133       389          443         427    428  432   **e**
'  **Ctrl Win  Alt    Spacebar    Alt  Win  Menu Ctrl            ◄-    ▼    -►    0/Insert    ./Del r**
'  412  413  410      182       409  414  405  411             442  444   441    86         420  421 
'

</code></pre></div></div>

<h2 id="mouse">[MOUSE]</h2>

<p>Normally the number 2 device, a mouse usually has [<a href="AXIS.html">AXIS</a>], [<a href="BUTTON.html">BUTTON</a>] and [<a href="WHEEL.html">WHEEL</a>] controls. Pointer must be in program screen area.</p>

<blockquote>
  <p><strong>[MOUSE][BUTTON][AXIS][WHEEL]</strong></p>
</blockquote>

<blockquote>
  <p><a href="_LASTAXIS.html">_LASTAXIS</a>(2) normally returns 2 axis representing the horizontal and vertical mouse, trackball, touch pad or touchscreen axis.</p>
</blockquote>

<blockquote>
  <p><a href="_AXIS.html">_AXIS</a>(number) returns a <a href="SINGLE.html">SINGLE</a> value from -1 to 1 with 0 representing the axis center in normal movement mode.</p>
</blockquote>

<blockquote>
  <p><a href="_AXIS.html">_AXIS</a>(1) returns the horizontal axis position in normal movement mode only.</p>
</blockquote>

<blockquote>
  <p><a href="_AXIS.html">_AXIS</a>(2) returns the vertical axis position in normal movement mode only.</p>
</blockquote>

<p>Program window pointer AXIS values change from 0 at the center to -1 or + 1 values at the window borders.</p>

<blockquote>
  <p><a href="_LASTBUTTON.html">_LASTBUTTON</a>(2) will normally return 3 buttons when mouse has a center or scroll wheel button.</p>
</blockquote>

<blockquote>
  <p><a href="_BUTTONCHANGE.html">_BUTTONCHANGE</a>(number) returns -1 when pressed, 1 when released and 0 when there is no event since the last read.</p>
</blockquote>

<blockquote>
  <p><a href="_BUTTON.html">_BUTTON</a>(number) returns -1 when corresponding button is pressed and 0 when released.</p>
</blockquote>

<blockquote>
  <p><a href="_BUTTON.html">_BUTTON</a>(1) returns Left button presses like <a href="_MOUSEBUTTON.html">_MOUSEBUTTON</a>(1) and <a href="_BUTTONCHANGE.html">_BUTTONCHANGE</a>(1) returns events.</p>
</blockquote>

<blockquote>
  <p><a href="_BUTTON.html">_BUTTON</a>(2) returns Center button presses like <a href="_MOUSEBUTTON.html">_MOUSEBUTTON</a>(3) and <a href="_BUTTONCHANGE.html">_BUTTONCHANGE</a>(2) returns events.</p>
</blockquote>

<blockquote>
  <p><a href="_BUTTON.html">_BUTTON</a>(3) returns Right button presses like <a href="_MOUSEBUTTON.html">_MOUSEBUTTON</a>(2) and <a href="_BUTTONCHANGE.html">_BUTTONCHANGE</a>(3) returns events.</p>
</blockquote>

<p><strong>Note that middle _BUTTON(2) is equivalent to <a href="_MOUSEBUTTON.html">_MOUSEBUTTON</a>(3)!</strong></p>

<blockquote>
  <p><a href="_LASTWHEEL.html">_LASTWHEEL</a>(2) will normally return 3 wheels where the first two return relative coordinate movements when set.</p>
</blockquote>

<blockquote>
  <p><a href="_WHEEL.html">_WHEEL</a>(number) returns -1 when wheel is scrolled up or forward and 1 when wheel is scrolled down or backward.</p>
</blockquote>

<blockquote>
  <p><a href="_WHEEL.html">_WHEEL</a>(1) returns relative horizontal pixel moves after <a href="_MOUSEMOVEMENTX.html">_MOUSEMOVEMENTX</a> or Y enables relative mode.</p>
</blockquote>

<blockquote>
  <p><a href="_WHEEL.html">_WHEEL</a>(2) returns relative vertical pixel moves after <a href="_MOUSEMOVEMENTX.html">_MOUSEMOVEMENTX</a> or Y enables relative mode.</p>
</blockquote>

<blockquote>
  <p><a href="_WHEEL.html">_WHEEL</a>(3) returns -1 when scroll wheel is moved forward or up and 1 when scrolled backward or down.</p>
</blockquote>

<p>Relative WHEEL move values are negative when mouse is moved up or left. Positive when mouse is moved down or right.</p>

<p>WHEEL values can be added for a cumulative movement value when needed. Scroll reads can be off program screen.</p>

<h2 id="controller">[CONTROLLER]</h2>

<p>[NAME]<a href="NAME%5d%5bmanufacturer%20name.html">manufacturer name</a> may follow in the controller <a href="_DEVICE%24.html">_DEVICE$</a> string. Devices can be joysticks, game pads or multi-stick.</p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">[CONTROLLER][[DeviceName]description][BUTTON][AXIS][WHEEL]</code></p>
</blockquote>

<p>Normally device numbers 3 or higher, controllers may have any number of [<a href="AXIS.html">AXIS</a>], [<a href="BUTTON.html">BUTTON</a>] and/or [<a href="WHEEL.html">WHEEL</a>] controls.</p>

<blockquote>
  <p><a href="_LASTAXIS.html">_LASTAXIS</a>(device_number) normally returns dual axis representing the horizontal and vertical axis or view point(“top hat”).</p>
</blockquote>

<blockquote>
  <p><a href="_AXIS.html">_AXIS</a>(number) returns a <a href="SINGLE.html">SINGLE</a> value from -1 to 1 with 0 representing the axis center.</p>
</blockquote>

<blockquote>
  <p><a href="_AXIS.html">_AXIS</a>(1) returns the horizontal axis position.</p>
</blockquote>

<blockquote>
  <p><a href="_AXIS.html">_AXIS</a>(2) returns the vertical axis position.</p>
</blockquote>

<p><strong>Note: Some slide controls may only have one axis!</strong></p>

<blockquote>
  <p><a href="_LASTBUTTON.html">_LASTBUTTON</a>(device_number) will return the number of buttons or triggers a device has.</p>
</blockquote>

<blockquote>
  <p><a href="_BUTTONCHANGE.html">_BUTTONCHANGE</a>(number) returns -1 when pressed, 1 when released and 0 when there is no event since the last read.</p>
</blockquote>

<blockquote>
  <p><a href="_BUTTON.html">_BUTTON</a>(number) returns -1 when button number is pressed and 0 when released.</p>
</blockquote>

<blockquote>
  <p><a href="_LASTWHEEL.html">_LASTWHEEL</a>(device_number) will return the number of wheel controls a device has.</p>
</blockquote>

<blockquote>
  <p><a href="_WHEEL.html">_WHEEL</a>(number) returns -1 when wheel is scrolled up or forward and 1 when wheel is scrolled down or backward.</p>
</blockquote>

<h2 id="example">Example</h2>

<blockquote>
  <p>Displays all keyboard, mouse and game controller button, axis and wheel control input values when each device is being used.</p>
</blockquote>

<div class="language-vb highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">PRINT</span> <span class="s">"Use relative mouse movement mode with ESC key exit only?(Y/N) "</span><span class="err">;</span>
<span class="n">K</span><span class="err">$</span> <span class="o">=</span> <span class="n">UCASE</span><span class="err">$</span><span class="p">(</span><span class="n">INPUT</span><span class="err">$</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">PRINT</span> <span class="n">K</span><span class="err">$</span>
<span class="n">PRINT</span>

<span class="n">FOR</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="n">TO</span> <span class="n">_DEVICES</span> <span class="c1">'DEVICES MUST be read first!</span>
  <span class="n">PRINT</span> <span class="n">STR</span><span class="err">$</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s">") "</span> <span class="o">+</span> <span class="n">_DEVICE$</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s">" Buttons:"</span><span class="err">;</span> <span class="n">_LASTBUTTON</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">;</span> <span class="s">",Axis:"</span><span class="err">;</span> <span class="n">_LASTAXIS</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="err">;</span> <span class="s">",Wheel:"</span><span class="err">;</span> <span class="n">_LASTWHEEL</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">NEXT</span>
<span class="n">IF</span> <span class="n">K</span><span class="err">$</span> <span class="o">=</span> <span class="s">"Y"</span> <span class="n">THEN</span> <span class="n">dummy</span> <span class="o">=</span> <span class="n">_MOUSEMOVEMENTX</span> <span class="c1">'enable relative mouse movement reads</span>
<span class="n">PRINT</span>

<span class="n">DO</span>
  <span class="n">x&amp;</span> <span class="o">=</span> <span class="n">_DEVICEINPUT</span> <span class="c1">'determines which device is currently being used</span>
  <span class="n">IF</span> <span class="n">x&amp;</span> <span class="o">=</span> <span class="mi">1</span> <span class="n">THEN</span>
    <span class="n">PRINT</span> <span class="s">"Keyboard: "</span><span class="err">;</span>
    <span class="n">FOR</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span> <span class="n">TO</span> <span class="n">_LASTBUTTON</span><span class="p">(</span><span class="n">x&amp;</span><span class="p">)</span>
      <span class="n">bb</span> <span class="o">=</span> <span class="n">_BUTTONCHANGE</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
      <span class="n">IF</span> <span class="n">bb</span> <span class="n">THEN</span> <span class="n">PRINT</span> <span class="n">b</span><span class="err">;</span> <span class="n">bb</span><span class="err">;</span> <span class="n">_BUTTON</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="err">;</span>
    <span class="n">NEXT</span>
    <span class="n">PRINT</span>
  <span class="n">END</span> <span class="n">IF</span>
  <span class="n">IF</span> <span class="n">x&amp;</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="n">THEN</span> <span class="c1">'  skip keyboard reads</span>
    <span class="n">PRINT</span> <span class="s">"Device:"</span><span class="err">;</span> <span class="n">x&amp;</span><span class="err">;</span>
    <span class="n">FOR</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span> <span class="n">TO</span> <span class="n">_LASTBUTTON</span><span class="p">(</span><span class="n">x&amp;</span><span class="p">)</span>
      <span class="n">PRINT</span> <span class="n">_BUTTONCHANGE</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="err">;</span> <span class="n">_BUTTON</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="err">;</span>
    <span class="n">NEXT</span>
    <span class="n">FOR</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="n">TO</span> <span class="n">_LASTAXIS</span><span class="p">(</span><span class="n">x&amp;</span><span class="p">)</span>
      <span class="n">PRINT</span> <span class="n">_AXIS</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="err">;</span> <span class="c1">'mouse axis returns -1 to 1 with 0 center screen</span>
    <span class="n">NEXT</span>
    <span class="n">FOR</span> <span class="n">w</span> <span class="o">=</span> <span class="mi">1</span> <span class="n">TO</span> <span class="n">_LASTWHEEL</span><span class="p">(</span><span class="n">x&amp;</span><span class="p">)</span>
      <span class="n">PRINT</span> <span class="n">_WHEEL</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="err">;</span> <span class="c1">'wheels 1 and 2 of mouse return relative pixel moves when enabled</span>
    <span class="n">NEXT</span>
    <span class="n">PRINT</span>
  <span class="n">END</span> <span class="n">IF</span>
<span class="n">LOOP</span> <span class="n">UNTIL</span> <span class="n">INKEY</span><span class="err">$</span> <span class="o">=</span> <span class="n">CHR</span><span class="err">$</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span> <span class="c1">'escape key exit</span>

<span class="n">END</span> 

</code></pre></div></div>
<p><sub>Code by Ted Weissgerber</sub></p>

<blockquote>
  <p><em>Note:</em> When there is no device control to read, a <a href="FOR...html">FOR…NEXT</a> n = 1 TO 0 loop will not run thus avoiding a control function read error.</p>
</blockquote>

<blockquote>
  <p>Using <a href="_MOUSEMOVEMENTX.html">_MOUSEMOVEMENTX</a> or Y will hide the mouse cursor and return relative mouse movements with the 1 and 2 <a href="_WHEEL.html">_WHEEL</a> controls.
<a href="_MOUSESHOW.html">_MOUSESHOW</a> will return the mouse coordinate reads to the <a href="_AXIS.html">_AXIS</a> control after it is used!</p>
</blockquote>

<h2 id="see-also">See Also</h2>

<ul>
  <li><a href="_DEVICEINPUT.html">_DEVICEINPUT</a>, <a href="_AXIS.html">_AXIS</a>, <a href="_BUTTON.html">_BUTTON</a>, <a href="_BUTTONCHANGE.html">_BUTTONCHANGE</a>, <a href="_WHEEL.html">_WHEEL</a></li>
  <li><a href="_DEVICES.html">_DEVICES</a>, <a href="_DEVICE%24.html">_DEVICE$</a>, <a href="_LASTAXIS.html">_LASTAXIS</a>, <a href="_LASTBUTTON.html">_LASTBUTTON</a>, <a href="_LASTWHEEL.html">_LASTWHEEL</a></li>
  <li><a href="_MOUSEINPUT.html">_MOUSEINPUT</a>, <a href="_MOUSEX.html">_MOUSEX</a>, <a href="_MOUSEY.html">_MOUSEY</a>, <a href="_MOUSEBUTTON.html">_MOUSEBUTTON</a>, <a href="_MOUSEWHEEL.html">_MOUSEWHEEL</a></li>
  <li><a href="_MOUSEMOVE.html">_MOUSEMOVE</a>, <a href="_MOUSEHIDE.html">_MOUSEHIDE</a>, <a href="_MOUSESHOW.html">_MOUSESHOW</a></li>
  <li><a href="_MOUSEMOVEMENTX.html">_MOUSEMOVEMENTX</a>, <a href="_MOUSEMOVEMENTY.html">_MOUSEMOVEMENTY</a> (relative movement)</li>
  <li><a href="STRIG.html">STRIG</a> (button), <a href="STICK.html">STICK</a> (axis)</li>
</ul>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        
        <p class="copyright">QB64.com maintained by <a href="https://github.com/DualBrain">Cory Smith</a> on <a href="https://github.com/DualBrain/QB64">GitHub</a>.</p>
        
        <p>Published with <a href="https://pages.github.com/">GitHub Pages</a></p>
      </footer>
    </div>
  </body>

<!-- Mirrored from qb64.com/wiki/Controller-Devices by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 07 Nov 2024 13:50:29 GMT -->
</html>